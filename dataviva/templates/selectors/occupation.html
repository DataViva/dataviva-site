<div class="institucional search">
    <h2>Escolha uma ocupacão da lista abaixo ou busque pelo nome</h2>
    <form class="form-dataviva form-inline filter">
        
        <ul class="btn-group nav nav-tabs" role="tablist">
            <li><a href="#families" aria-controls="families" role="tab" data-toggle="tab" class="btn btn-default" ng-click="selector_model.load_depth_entries(selector_model.families)">
            Famílias
            </a></li>
            <li><a href="#groups" aria-controls="groups" role="tab" data-toggle="tab" class="btn btn-default" ng-click="selector_model.load_depth_entries(selector_model.groups)">
            Grandes Grupos
            </a></li>
        </ul>
        
        <div class="search-items tab-content">
            <!-- TAB: families -->
            <div role="tabpanel" class="tab-pane search-items" id="families">
                <div class="form-group">
                    <i class="fa fa-search"></i>
                    <input type="text"
                    name="families_filter"
                    class="busca form-control"
                    ng-model="selector_model.families.filter_string"
                    ng-trim="true"
                    autocomplete="false" />
                </div>
                <div class="list-group list-stripped selector-list">
                    <div class="loading" ng-show="selector_model.loading"></div>
                    <div ng-repeat="occ in selector_model.families.entries|filter:selector_model.families.filter_string" class="list-group-item col-md-15" ng-class="{'selected': occ.id == selector_model.selected_entry }">
                        <div class="col-md-1 hidden-xs hidden-sm">
                            <img src="{$ occ.icon $}" class="flag-icon symbol"/>
                        </div>
                        <div class="col-md-10">
                            {$ occ.name $}<BR>
                        </div>
                        <div class="col-md-3">
                            <div class="btn btn-default"
                                 ng-click="selector_model.select(occ.id, $event)">Select</div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- TAB: groups -->
            <div role="tabpanel" class="tab-pane search-items" id="groups">
                <div class="form-group">
                    <i class="fa fa-search"></i>
                    <input type="text"
                    name="groups_filter"
                    class="busca form-control"
                    ng-model="selector_model.groups.filter_string"
                    ng-trim="true"
                    autocomplete="false" />
                </div>
                
                <div class="list-group list-stripped selector-list col-md-15">
                    <div class="loading" ng-show="selector_model.loading"></div>
                    <div ng-repeat="occ in selector_model.groups.entries | filter:selector_model.groups.filter_string"
                         ng-class="{'selected': occ.id == selector_model.selected_entry }"
                         class="list-group-item col-md-15">
                            <div class="col-md-1 hidden-xs hidden-sm">
                                <img src="{$ occ.icon $}" class="flag-icon symbol"/>
                            </div>
                            <div class="col-md-10">
                                {$ occ.name $}
                            </div>
                        <div class="col-md-3">
                            <div class="btn btn-default" 
                                 ng-click="selector_model.select(occ.id, $event)">Select</div>
                        </div>
                    </div>
                </div>
                
            </div>
        </div>
    </form>
</div>